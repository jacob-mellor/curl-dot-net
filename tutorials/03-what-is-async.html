<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Tutorial 3: Understanding Async/Await (In Plain English) - CurlDotNet Documentation. Pure .NET implementation of curl for C#.">
    <meta name="keywords" content="curl, .NET, C#, HTTP, REST API, NuGet, CurlDotNet">
    <meta name="author" content="Jacob Mellor, IronSoftware">
    <title>Tutorial 3: Understanding Async/Await (In Plain English) | CurlDotNet Documentation</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/github-markdown-css/5.2.0/github-markdown.min.css">
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            line-height: 1.6;
            color: #333;
            background: #f5f5f5;
        }

        /* Beautiful Header - matches homepage */
        .site-header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 30px 20px;
            text-align: center;
        }
        .site-header h1 {
            font-size: 2.5em;
            margin-bottom: 8px;
        }
        .site-header h1 a {
            color: white;
            text-decoration: none;
        }
        .site-header h1 a:hover {
            text-decoration: underline;
        }
        .site-header .tagline {
            font-size: 1.1em;
            opacity: 0.9;
            margin-bottom: 15px;
        }
        .header-nav {
            margin-top: 15px;
        }
        .header-nav a {
            color: white;
            text-decoration: none;
            margin: 0 12px;
            padding: 8px 16px;
            border-radius: 20px;
            background: rgba(255,255,255,0.15);
            display: inline-block;
            font-size: 0.95em;
            transition: background 0.2s;
        }
        .header-nav a:hover {
            background: rgba(255,255,255,0.3);
        }

        /* Section Title Bar */
        .section-bar {
            background: #2d3748;
            color: white;
            padding: 20px;
            text-align: center;
        }
        .section-bar .section-name {
            font-size: 0.9em;
            opacity: 0.7;
            text-transform: uppercase;
            letter-spacing: 1px;
        }
        .section-bar h2 {
            font-size: 1.8em;
            margin-top: 5px;
        }

        /* Breadcrumbs */
        .breadcrumbs {
            background: #e2e8f0;
            padding: 12px 20px;
            font-size: 0.9em;
        }
        .breadcrumbs-inner {
            max-width: 900px;
            margin: 0 auto;
        }
        .breadcrumbs a {
            color: #667eea;
            text-decoration: none;
        }
        .breadcrumbs a:hover {
            text-decoration: underline;
        }
        .bc-sep {
            color: #718096;
            margin: 0 6px;
        }

        /* Main Content */
        .container {
            max-width: 900px;
            margin: 0 auto;
            padding: 30px 20px;
        }
        .content-card {
            background: white;
            padding: 40px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        .markdown-body { font-size: 16px; }
        .markdown-body pre {
            background: #f6f8fa;
            padding: 16px;
            overflow: auto;
            border-radius: 6px;
        }
        .markdown-body code {
            background: #f6f8fa;
            padding: 2px 6px;
            border-radius: 3px;
            font-size: 0.9em;
        }
        .markdown-body pre code {
            background: none;
            padding: 0;
        }
        .markdown-body a { color: #667eea; }
        .markdown-body h1, .markdown-body h2, .markdown-body h3 {
            margin-top: 24px;
            margin-bottom: 16px;
            border-bottom: 1px solid #e1e4e8;
            padding-bottom: 8px;
        }
        .markdown-body h1:first-child { margin-top: 0; }

        /* Footer */
        .site-footer {
            background: #2d3748;
            color: white;
            padding: 40px 20px;
            text-align: center;
            margin-top: 40px;
        }
        .footer-links {
            margin-bottom: 20px;
        }
        .footer-links a {
            color: #68d391;
            text-decoration: none;
            margin: 0 15px;
            font-size: 1em;
        }
        .footer-links a:hover {
            text-decoration: underline;
        }
        .sponsor-info {
            margin-top: 20px;
            padding-top: 20px;
            border-top: 1px solid #4a5568;
        }
        .sponsor-info a {
            color: #68d391;
            text-decoration: none;
        }
        .sponsor-info a:hover {
            text-decoration: underline;
        }
        .author-info {
            margin-top: 10px;
            font-size: 0.95em;
            opacity: 0.9;
        }
    </style>
</head>
<body>
    <header class="site-header">
        <h1><a href="/">üì¶ CurlDotNet</a></h1>
        <p class="tagline">Pure .NET implementation of curl - Paste any curl command into C#</p>
        <nav class="header-nav">
            <a href="/getting-started/">Get Started</a>
            <a href="/tutorials/">Tutorials</a>
            <a href="/cookbook/">Cookbook</a>
            <a href="/api/">API Reference</a>
            <a href="https://github.com/jacob-mellor/curl-dot-net">GitHub</a>
            <a href="https://www.nuget.org/packages/CurlDotNet/">NuGet</a>
        </nav>
    </header>

    <div class="section-bar">
        <div class="section-name">Tutorials</div>
        <h2>Tutorial 3: Understanding Async/Await (In Plain English)</h2>
    </div>

    <nav class="breadcrumbs">
        <div class="breadcrumbs-inner">
            <a href="/">Home</a> <span class="bc-sep">‚Ä∫</span> <a href="/tutorials/">Tutorials</a>
        </div>
    </nav>

    <main class="container">
        <article class="content-card markdown-body">
<h1>Tutorial 3: Understanding Async/Await (In Plain English)</h1>
<h2>üéØ What You&#39;ll Learn</h2>
<ul>
<li>What <code>async</code> and <code>await</code> mean</li>
<li>Why we use them</li>
<li>How to use them correctly</li>
<li>Common mistakes to avoid</li>
</ul>
<h2>üìö Prerequisites</h2>
<ul>
<li><a href="01-what-is-dotnet.html">Tutorial 1: What is .NET and C#?</a></li>
</ul>
<h2>üç≥ The Restaurant Analogy</h2>
<p>Imagine you&#39;re at a restaurant. There are two ways to get your food:</p>
<h3>Method 1: Stand and Wait (Synchronous)</h3>
<pre><code>1. You order a burger
2. You stand at the counter
3. You can&#39;t do anything else
4. You just wait... and wait...
5. Finally get your burger
6. Now you can do the next thing
</code></pre>
<h3>Method 2: Take a Number (Asynchronous)</h3>
<pre><code>1. You order a burger
2. They give you a number
3. You sit down and chat with friends
4. You check your phone
5. They call your number
6. You get your burger
</code></pre>
<p><strong>Async/Await is Method 2!</strong> Your program doesn&#39;t freeze while waiting.</p>
<h2>üíª In Code Terms</h2>
<h3>Without Async (Program Freezes)</h3>
<pre><code class="language-csharp">// DON&#39;T DO THIS - Your program will freeze!
public static void Main()
{
    Console.WriteLine(&quot;Starting download...&quot;);

    // This BLOCKS - program frozen here!
    var result = DownloadWebpage(&quot;https://slow-website.com&quot;);  // Wait..... wait..... wait.....

    Console.WriteLine(&quot;Finally done!&quot;);  // Only runs after download finishes
}
</code></pre>
<h3>With Async (Program Stays Responsive)</h3>
<pre><code class="language-csharp">public static async Task Main()  // Note: async Task
{
    Console.WriteLine(&quot;Starting download...&quot;);

    // This DOESN&#39;T BLOCK - program can do other things
    var result = await DownloadWebpageAsync(&quot;https://slow-website.com&quot;);

    Console.WriteLine(&quot;Done!&quot;);  // Runs after download, but program wasn&#39;t frozen
}
</code></pre>
<h2>üîë The Golden Rules</h2>
<h3>Rule 1: Async Methods End with &quot;Async&quot;</h3>
<pre><code class="language-csharp">// Regular methods (avoid these for web requests)
Curl.Execute()
File.ReadAllText()
Download()

// Async methods (use these!)
Curl.ExecuteAsync()
File.ReadAllTextAsync()
DownloadAsync()
</code></pre>
<h3>Rule 2: Always Use &#39;await&#39; with Async Methods</h3>
<pre><code class="language-csharp">// WRONG - Missing await
var result = Curl.ExecuteAsync(&quot;curl https://api.com&quot;);

// RIGHT - With await
var result = await Curl.ExecuteAsync(&quot;curl https://api.com&quot;);
</code></pre>
<h3>Rule 3: Methods Using &#39;await&#39; Must Be &#39;async&#39;</h3>
<pre><code class="language-csharp">// WRONG - Method not marked as async
static Task&lt;string&gt; GetData()
{
    var result = await Curl.ExecuteAsync(&quot;curl https://api.com&quot;);  // ERROR!
    return result.Body;
}

// RIGHT - Method marked as async
static async Task&lt;string&gt; GetData()
{
    var result = await Curl.ExecuteAsync(&quot;curl https://api.com&quot;);  // Works!
    return result.Body;
}
</code></pre>
<h2>üéØ Real Examples with CurlDotNet</h2>
<h3>Example 1: Simple Async Call</h3>
<pre><code class="language-csharp">using System;
using System.Threading.Tasks;
using CurlDotNet;

class Program
{
    static async Task Main()  // async Task for Main
    {
        Console.WriteLine(&quot;Fetching data...&quot;);

        // await tells C# to wait here (but not freeze)
        var result = await Curl.ExecuteAsync(&quot;curl https://api.github.com&quot;);

        Console.WriteLine($&quot;Got {result.Body.Length} characters&quot;);
    }
}
</code></pre>
<h3>Example 2: Multiple Async Calls (One at a Time)</h3>
<pre><code class="language-csharp">static async Task Main()
{
    // These happen one after another
    var result1 = await Curl.ExecuteAsync(&quot;curl https://api.github.com&quot;);
    Console.WriteLine(&quot;Got first response&quot;);

    var result2 = await Curl.ExecuteAsync(&quot;curl https://api.bitbucket.org&quot;);
    Console.WriteLine(&quot;Got second response&quot;);

    var result3 = await Curl.ExecuteAsync(&quot;curl https://api.gitlab.com&quot;);
    Console.WriteLine(&quot;Got third response&quot;);
}
</code></pre>
<h3>Example 3: Multiple Async Calls (All at Once!)</h3>
<pre><code class="language-csharp">static async Task Main()
{
    // Start all three at the same time!
    var task1 = Curl.ExecuteAsync(&quot;curl https://api.github.com&quot;);
    var task2 = Curl.ExecuteAsync(&quot;curl https://api.bitbucket.org&quot;);
    var task3 = Curl.ExecuteAsync(&quot;curl https://api.gitlab.com&quot;);

    // Wait for all to complete
    var results = await Task.WhenAll(task1, task2, task3);

    Console.WriteLine(&quot;Got all three responses at once!&quot;);
}
</code></pre>
<h2>ü§î What&#39;s Really Happening?</h2>
<p>When you use <code>await</code>:</p>
<ol>
<li><strong>Request Starts</strong> - The HTTP request begins</li>
<li><strong>Control Returns</strong> - Your program can do other things</li>
<li><strong>Request Completes</strong> - The server responds</li>
<li><strong>Code Resumes</strong> - Your code continues from the await line</li>
</ol>
<p>It&#39;s like ordering pizza:</p>
<ol>
<li>You call and order (start request)</li>
<li>You watch TV while waiting (program does other things)</li>
<li>Doorbell rings (request completes)</li>
<li>You eat pizza (code continues)</li>
</ol>
<h2>‚ö° Async vs Sync Comparison</h2>
<h3>Synchronous (Blocking)</h3>
<pre><code class="language-csharp">// THIS FREEZES YOUR PROGRAM
public void DownloadFiles()
{
    var file1 = DownloadFile(&quot;file1.zip&quot;);  // Wait 5 seconds...
    var file2 = DownloadFile(&quot;file2.zip&quot;);  // Wait 5 seconds...
    var file3 = DownloadFile(&quot;file3.zip&quot;);  // Wait 5 seconds...
    // Total time: 15 seconds, program frozen the whole time
}
</code></pre>
<h3>Asynchronous (Non-Blocking)</h3>
<pre><code class="language-csharp">// THIS DOESN&#39;T FREEZE
public async Task DownloadFilesAsync()
{
    var task1 = DownloadFileAsync(&quot;file1.zip&quot;);
    var task2 = DownloadFileAsync(&quot;file2.zip&quot;);
    var task3 = DownloadFileAsync(&quot;file3.zip&quot;);

    await Task.WhenAll(task1, task2, task3);
    // Total time: 5 seconds, all download at once!
}
</code></pre>
<h2>‚ùå Common Mistakes</h2>
<h3>Mistake 1: Forgetting await</h3>
<pre><code class="language-csharp">// WRONG - This doesn&#39;t wait for the result!
static async Task Main()
{
    var resultTask = Curl.ExecuteAsync(&quot;curl https://api.com&quot;);
    Console.WriteLine(resultTask.Body);  // ERROR! resultTask is a Task, not a result
}

// RIGHT - Use await to get the actual result
static async Task Main()
{
    var result = await Curl.ExecuteAsync(&quot;curl https://api.com&quot;);
    Console.WriteLine(result.Body);  // Works! result is the actual response
}
</code></pre>
<h3>Mistake 2: Using .Result or .Wait()</h3>
<pre><code class="language-csharp">// WRONG - Can cause deadlocks!
static void Main()
{
    var result = Curl.ExecuteAsync(&quot;curl https://api.com&quot;).Result;  // BAD!
    // or
    var task = Curl.ExecuteAsync(&quot;curl https://api.com&quot;);
    task.Wait();  // ALSO BAD!
}

// RIGHT - Use async/await all the way
static async Task Main()
{
    var result = await Curl.ExecuteAsync(&quot;curl https://api.com&quot;);  // GOOD!
}
</code></pre>
<h3>Mistake 3: Not Making Method Async</h3>
<pre><code class="language-csharp">// WRONG - Method not async
static Task&lt;string&gt; GetData()
{
    var result = await Curl.ExecuteAsync(&quot;curl https://api.com&quot;);  // ERROR!
    return result.Body;
}

// RIGHT - Method is async
static async Task&lt;string&gt; GetData()
{
    var result = await Curl.ExecuteAsync(&quot;curl https://api.com&quot;);  // Works!
    return result.Body;
}
</code></pre>
<h2>üéÆ Interactive Example</h2>
<p>Try this code and see the difference:</p>
<pre><code class="language-csharp">using System;
using System.Threading.Tasks;
using System.Diagnostics;
using CurlDotNet;

class Program
{
    static async Task Main()
    {
        // Method 1: One at a time (slow)
        var stopwatch = Stopwatch.StartNew();

        var result1 = await Curl.ExecuteAsync(&quot;curl https://httpbin.org/delay/1&quot;);
        var result2 = await Curl.ExecuteAsync(&quot;curl https://httpbin.org/delay/1&quot;);
        var result3 = await Curl.ExecuteAsync(&quot;curl https://httpbin.org/delay/1&quot;);

        Console.WriteLine($&quot;Sequential: {stopwatch.ElapsedMilliseconds}ms (about 3 seconds)&quot;);

        // Method 2: All at once (fast!)
        stopwatch.Restart();

        var task1 = Curl.ExecuteAsync(&quot;curl https://httpbin.org/delay/1&quot;);
        var task2 = Curl.ExecuteAsync(&quot;curl https://httpbin.org/delay/1&quot;);
        var task3 = Curl.ExecuteAsync(&quot;curl https://httpbin.org/delay/1&quot;);

        await Task.WhenAll(task1, task2, task3);

        Console.WriteLine($&quot;Parallel: {stopwatch.ElapsedMilliseconds}ms (about 1 second)&quot;);
    }
}
</code></pre>
<h2>üìä Quick Reference</h2>
<table>
<thead>
<tr>
<th>Keyword</th>
<th>What It Does</th>
<th>When to Use</th>
</tr>
</thead>
<tbody><tr>
<td><code>async</code></td>
<td>Marks a method as asynchronous</td>
<td>When method contains <code>await</code></td>
</tr>
<tr>
<td><code>await</code></td>
<td>Waits for async operation</td>
<td>Before any <code>...Async()</code> method</td>
</tr>
<tr>
<td><code>Task</code></td>
<td>Represents an ongoing operation</td>
<td>Return type for async methods</td>
</tr>
<tr>
<td><code>Task&lt;T&gt;</code></td>
<td>Ongoing operation with result</td>
<td>When async method returns value</td>
</tr>
</tbody></table>
<h2>üéØ Simple Rules to Remember</h2>
<ol>
<li><strong>See <code>Async</code> in method name?</strong> ‚Üí Use <code>await</code></li>
<li><strong>Using <code>await</code> in method?</strong> ‚Üí Mark method as <code>async</code></li>
<li><strong>Method is <code>async</code>?</strong> ‚Üí Return <code>Task</code> or <code>Task&lt;T&gt;</code></li>
<li><strong>Multiple operations?</strong> ‚Üí Consider <code>Task.WhenAll()</code></li>
</ol>
<h2>üöÄ Next Steps</h2>
<p>Now that you understand async/await:</p>
<ol>
<li><strong>Next Tutorial</strong> ‚Üí <a href="04-your-first-request.html">Your First Request</a></li>
<li><strong>Practice</strong> ‚Üí Try the interactive example above</li>
<li><strong>Experiment</strong> ‚Üí What happens without <code>await</code>?</li>
</ol>
<h2>ü§î FAQs</h2>
<p><strong>Q: Why not just use synchronous methods?</strong>
A: Your application would freeze during network requests. Users hate frozen apps!</p>
<p><strong>Q: Can I use async without await?</strong>
A: Technically yes, but you usually shouldn&#39;t. You&#39;d lose the benefit.</p>
<p><strong>Q: Is async/await faster?</strong>
A: For single operations, no. For multiple operations or keeping UI responsive, yes!</p>
<p><strong>Q: Do I always need async/await?</strong>
A: For network requests, file I/O, and database calls - yes! For simple calculations - no.</p>
<h2>üìö Summary</h2>
<ul>
<li><strong>Async</strong> = Non-blocking (doesn&#39;t freeze)</li>
<li><strong>Await</strong> = Wait for result (but nicely)</li>
<li><strong>Always use together</strong> = <code>await</code> + <code>Async</code> methods</li>
<li><strong>Mark methods</strong> = <code>async Task</code> when using <code>await</code></li>
<li><strong>Better user experience</strong> = Responsive applications</li>
</ul>
<hr>
<p><strong>Ready to make your first request?</strong> ‚Üí <a href="04-your-first-request.html">Your First Request</a></p>
<p><strong>Still confused?</strong> That&#39;s normal! Try the examples and it will click. Check <a href="../troubleshooting/common-issues.html">Common Issues</a> if you get stuck.</p>


        </article>
    </main>

    <footer class="site-footer">
        <div class="footer-links">
            <a href="/">üìö Documentation Home</a>
            <a href="https://github.com/jacob-mellor/curl-dot-net">‚≠ê GitHub Repository</a>
            <a href="https://www.nuget.org/packages/CurlDotNet/">üì¶ NuGet Package</a>
        </div>
        <div class="sponsor-info">
            <p>üíé Proudly sponsored by <a href="https://ironsoftware.com">IronSoftware</a></p>
        </div>
        <div class="author-info">
            <p>Written by <a href="https://ironsoftware.com/about-us/authors/jacobmellor/">Jacob Mellor</a>, CTO at IronSoftware</p>
        </div>
        <p style="margin-top: 15px; font-size: 0.85em; opacity: 0.7;">
            ¬© 2024-2025 Jacob Mellor and IronSoftware. All rights reserved.
        </p>
    </footer>
</body>
</html>